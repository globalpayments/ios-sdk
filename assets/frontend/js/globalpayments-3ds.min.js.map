{"version":3,"sources":["globalpayments-3ds.js"],"names":["this","GlobalPayments","ThreeDSecure","exports","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__extends","__","constructor","prototype","create","__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","__generator","body","_","label","sent","t","trys","ops","f","y","g","verb","throw","return","Symbol","iterator","n","v","op","TypeError","call","pop","length","push","createCommonjsModule","fn","basedir","module","path","require","base","commonjsRequire","undefined","getAugmentedNamespace","__esModule","a","defineProperty","keys","forEach","k","getOwnPropertyDescriptor","get","enumerable","Error","self","fetch","s","r","XMLHttpRequest","o","u","i","ok","status","statusText","url","responseURL","text","responseText","json","JSON","parse","blob","Blob","response","clone","headers","entries","toLowerCase","has","c","open","method","onload","getAllResponseHeaders","replace","onerror","withCredentials","credentials","setRequestHeader","send","byteLength_1","byteLength","toByteArray_1","toByteArray","fromByteArray_1","fromByteArray","lookup","revLookup","Arr","Uint8Array","code","len","charCodeAt","getLens","b64","validLen","indexOf","placeHoldersLen","lens","_byteLength","tmp","arr","curByte","tripletToBase64","num","encodeChunk","uint8","start","end","output","join","extraBytes","parts","maxChunkLength","len2","base64Js","base64","base64decode","base64encode","u8array","u8Array","bStr","String","fromCharCode","window","btoa","atob","json2","Date","toJSON","_KEY","isFinite","valueOf","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","strProto","numProto","Number","Boolean","cx","esc","gap","indent","meta","\b","\t","\n","\f","\r","\"","\\","rep","quote","quoteStr","lastIndex","test","toString","slice","str","key","holder","mind","partial","stringify","replacer","space","","reviver","j","walk","Function","SyntaxError","freeze","object","exception","freezeObject","prop","getOwnPropertyNames","obj","item","configurable","writable","prepend","argArr","arguments","docFrag","document","createDocumentFragment","argItem","isNode","Node","appendChild","createTextNode","insertBefore","firstChild","Element","Document","DocumentFragment","finallyConstructor","callback","reason","allSettled","args","remaining","res","val","setTimeoutFunc","setTimeout","isArray","x","noop","bind","Promise$1","_state","_handled","_value","_deferreds","doResolve","handle","deferred","_immediateFn","cb","onFulfilled","onRejected","promise","ret","newValue","finale","_unhandledRejectionFn","Handler","ex","prom","all","race","setImmediate","err","console","warn","src","default","Promise$2","repeat","polyfills","AuthenticationSource","AuthenticationRequestType","ChallengeRequestIndicator","ChallengeWindowSize","MessageCategory","MethodUrlCompletion","TransactionStatus","TransactionStatusReason","colorDepth","dimensionsFromChallengeWindowSize","options","height","width","size","windowSize","Windowed250x400","Windowed390x400","Windowed500x600","Windowed600x400","messageCategoryFromAuthenticationRequestType","authenticationRequestType","AddCard","CardholderVerification","MaintainCard","NonPayment","InstalmentTransaction","PaymentTransaction","RecurringTransaction","Payment","GPError","_super","reasons","message","_this","error","handleNotificationMessageEvent","event","data","origin","parent","postMessage","location","makeRequest","endpoint","rawResponse","_a","e_1","_b","_c","Content-Type","Headers","name","concat","isWindowsMobileOs","navigator","userAgent","isAndroidOrIOs","isMobileXS","innerWidth","screen","innerHeight","isMobileNewTab","isMobileIFrame","randomId","Math","random","substr","createLightbox","iFrame","overlayElement","createOverlay","spinner","createSpinner","setAttribute","style","zIndex","position","transition","transform","opacity","FullScreen","top","bottom","left","marginLeft","minHeight","WebkitTransform","metaTag","createElement","content","getElementsByTagName","getIFrameOnloadEventHandler","closeModal","querySelectorAll","element","parentNode","removeChild","overlay","WebkitOverflowScrolling","overflowX","overflowY","background","createCloseButton","getElementById","closeButton","id","float","right","borderRadius","backgroundColor","addEventListener","postToIframe","fields","timeout","ensureIframeClosed","iframe","display","hide","form","createForm","displayMode","handleEmbeddedIframe","getWindowMessageEventHandler","submit","action","target","_i","fields_1","field","input","clearTimeout","targetElement","querySelector","getBrowserData","now","javaEnabled","javascriptEnabled","language","screenHeight","screenWidth","time","timezoneOffset","getTimezoneOffset","checkVersion","handle3dsVersionCheck","methodWindow","initiateAuthentication","e_2","authenticationSource","Browser","messageCategory","challengeRequestIndicator","NoPreference","browserData","handleInitiateAuthentication","challengeWindow","enrolled","methodUrl","methodData","challengeMandated","ChallengeRequired","challenge","requestUrl","messageTypeKey","messageType","encodedChallengeRequest","handleChallengeNotification","handleMethodNotification"],"mappings":"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"}